// Generated by CoffeeScript 1.12.2
(function() {
  $(function() {
    var details, info;
    if (!/Amazon Best Sellers Rank/.test($('body').text())) {
      return;
    }
    details = {};
    $('#productDetailsTable li').each(function() {
      var el, key, val;
      key = $(this).find('b').text().replace(/:$/, '').trim();
      el = $(this).clone();
      el.find('b').remove();
      val = el.text().trim();
      return details[key] = val;
    });
    console.dir('XXX', details);
    info = $('<div/>');
    info.css({
      background: '#C7D8EE',
      textAlign: 'center',
      padding: '10px'
    });
    info.sticky({
      topSpacing: 0
    });
    info.appendTo('header');
    return info.append([
      "<b>" + ($('#title').text()) + "</b>", '<br/>', 'Author: ', $('.author .contributorNameID').clone().attr({
        target: '_blank'
      }), ' - ', 'Publisher: ', (/Amazon Digital Services LLC/.test(details.Publisher) ? '<b>Self-Published</b>' : details.Publisher)
    ]);
  });

}).call(this);
